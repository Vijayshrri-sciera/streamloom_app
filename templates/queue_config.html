{% extends "base.html" %}
{% block content %}
<h1>Queue Config</h1>
<div class="toolbar">
    <form method="GET" action="{{ url_for('queue_config') }}">
        <input type="text" name="search" placeholder="Search queue config...">
        <button type="submit">Search</button>
    </form>
    <button class="add-btn" onclick="location.href='{{ url_for('add_queue_config') }}'">+</button>
    <button onclick="location.reload()">‚ü≥</button>
</div>
<table>
    <thead>
        <tr>
            <th>ID</th>
            <th>Source Name</th>
            <th>Query String</th>
            <th>Priority</th>
            <th>Frequency</th>
            <th>Start Date</th>
            <th>Is Active Status</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for queue_config in queue_configs %}
        <tr>
            <td>{{ queue_config[0] }}</td>
            <td>{{ queue_config[3] }}</td>
            <td>{{ queue_config[4] }}</td>
            <td>{{ queue_config[6] }}</td>
            <td>{{ queue_config[9] }}</td>
            <td>{{ queue_config[21] }}</td>
            <td>{{ queue_config[27] }}</td>
            <td>
                <a href="{{ url_for('edit_queue_config', id=queue_config[0]) }}">Edit</a>
                <form action="{{ url_for('delete_queue_config', id=queue_config[0]) }}" method="post" style="display:inline;">
                    <button type="submit" onclick="return confirm('Are you sure you want to delete this configuration?');">Delete</button>
                </form>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
